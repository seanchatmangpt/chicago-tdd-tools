# Cargo Nextest Configuration
# Enforces 1s timeout for all tests to ensure SLA compliance

[profile.default]
# Slow test timeout: 1 second (SLA requirement)
slow-timeout = { period = "1s", terminate-after = 1 }

# Test timeout: 1 second maximum
test-timeout = "1s"

# Overhead timeout: 500ms for test setup/teardown
overhead-timeout = "500ms"

# Global timeout: 10 seconds for entire test suite
# (allows for parallel execution while maintaining per-test SLA)
global-timeout = "10s"

# Kill slow tests immediately (don't wait)
terminate-after = 1

# Retry configuration (disabled for deterministic results)
retries = 0

# Parallel execution (faster test runs)
test-threads = "num-cpus"

# Output configuration
status-level = "none"
failure-output = "immediate"

[profile.default.env]
# Set test timeout environment variable
RUST_TEST_TIMEOUT = "1"

